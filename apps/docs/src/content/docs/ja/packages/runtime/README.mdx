---
title: '@himorishige/hatago-runtime'
description: ランタイムコンポーネント
package: runtime
lang: ja
---

# @hatago/runtime

Runtime components for Hatago MCP Hub - session, registry, router, and retry management.

## Overview

This package provides the core runtime functionality needed to build MCP Hub servers. It includes session management, registry systems for tools/resources/prompts, message routing, and error recovery mechanisms.

## Installation

```bash
npm install @hatago/runtime
```

## Features

### Session Management

- Create and manage user sessions
- TTL-based expiration
- Thread-safe operations with mutex

### Registry System (Coming Soon)

- Tool registry with collision avoidance
- Resource registry
- Prompt registry

### Message Router (Coming Soon)

- Route MCP protocol messages
- Handle tool calls
- Resource resolution

### Error Recovery (Coming Soon)

- Retry with exponential backoff
- Circuit breaker pattern
- Error categorization

## Usage

```typescript
import { SessionManager } from '@hatago/runtime';

const sessionManager = new SessionManager(3600); // 1 hour TTL
const session = await sessionManager.createSession('session-id');
```

## Dependencies

- `@hatago/core` - Core type definitions
- `@modelcontextprotocol/sdk` - MCP SDK

## License

MIT
