---
title: åŸºæœ¬è¨­å®šã‚¬ã‚¤ãƒ‰
description: Hatago MCP Hubã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆãƒ»ç®¡ç†ã™ã‚‹æ–¹æ³•
prerequisites: HatagoãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
time_to_complete: 15åˆ†
sidebar:
  order: 1
manual: true
---

import { Card, CardGrid, Tabs, TabItem, Steps, Aside, Code } from '@astrojs/starlight/components';

Hatago MCP Hubã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`hatago.config.json`ï¼‰ã‚’ä½œæˆã—ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

<Tabs>
  <TabItem label="è‡ªå‹•ç”Ÿæˆï¼ˆæ¨å¥¨ï¼‰">
    å¯¾è©±å‹ã‚³ãƒãƒ³ãƒ‰ã§ç°¡å˜ã«ä½œæˆï¼š
    ```bash
    npx @himorishige/hatago-mcp-hub init
    ```
    
    ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å¾“ã£ã¦é¸æŠã™ã‚‹ã ã‘ã§ã€é©åˆ‡ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
</TabItem>
  <TabItem label="æ‰‹å‹•ä½œæˆ">
    `hatago.config.json`ã‚’ä½œæˆï¼š
    ```json
    {
      "$schema": "https://raw.githubusercontent.com/himorishige/hatago-mcp-hub/main/schemas/config.schema.json",
      "version": 1,
      "logLevel": "info",
      "mcpServers": {
        // ã‚µãƒ¼ãƒãƒ¼è¨­å®šã‚’ã“ã“ã«è¿½åŠ 
      }
    }
    ```
</TabItem>
</Tabs>

## ğŸ—ï¸ åŸºæœ¬æ§‹é€ 

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ã®è¦ç´ ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š

```json
{
  "$schema": "...", // JSON Schemaï¼ˆè‡ªå‹•è£œå®Œç”¨ï¼‰
  "version": 1, // è¨­å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³
  "logLevel": "info", // ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«
  "mcpServers": {
    // MCPã‚µãƒ¼ãƒãƒ¼ã®å®šç¾©
    "server-id": {
      // ã‚µãƒ¼ãƒãƒ¼IDï¼ˆä»»æ„ã®åå‰ï¼‰
      // ã‚µãƒ¼ãƒãƒ¼è¨­å®š
    }
  }
}
```

<Aside type="tip">
  VS Codeã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€`$schema`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚ˆã‚Šè‡ªå‹•è£œå®Œã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚
</Aside>

## ğŸš€ ã‚µãƒ¼ãƒãƒ¼ã‚¿ã‚¤ãƒ—åˆ¥ã®è¨­å®š

### ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼

ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã§å®Ÿè¡Œã™ã‚‹MCPã‚µãƒ¼ãƒãƒ¼ï¼š

```json
{
  "mcpServers": {
    "my-local-server": {
      "command": "node",
      "args": ["./my-server.js"],
      "env": {
        "NODE_ENV": "production"
      },
      "cwd": "./servers"
    }
  }
}
```

### NPXã‚µãƒ¼ãƒãƒ¼

npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹MCPã‚µãƒ¼ãƒãƒ¼ï¼š

```json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/tmp"],
      "env": {
        "LOG_LEVEL": "debug"
      }
    }
  }
}
```

<Aside type="caution">`-y`ãƒ•ãƒ©ã‚°ã¯ã€npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è‡ªå‹•çš„ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã™ã€‚</Aside>

### ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼

HTTPã¾ãŸã¯SSEçµŒç”±ã§æ¥ç¶šã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ï¼š

```json
{
  "mcpServers": {
    "remote-api": {
      "url": "https://api.example.com/mcp",
      "type": "http",
      "headers": {
        "Authorization": "Bearer ${API_TOKEN}"
      }
    },
    "deepwiki": {
      "url": "https://mcp.deepwiki.com/sse",
      "type": "sse"
    }
  }
}
```

## ğŸ”‘ ç’°å¢ƒå¤‰æ•°ã®ä½¿ç”¨

### åŸºæœ¬çš„ãªå±•é–‹

ç’°å¢ƒå¤‰æ•°ã¯`${VAR}`å½¢å¼ã§å‚ç…§ã§ãã¾ã™ï¼š

```json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    }
  }
}
```

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®æŒ‡å®š

ç’°å¢ƒå¤‰æ•°ãŒæœªå®šç¾©ã®å ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼š

```json
{
  "env": {
    "API_URL": "${API_URL:-https://api.example.com}",
    "LOG_LEVEL": "${LOG_LEVEL:-info}",
    "TIMEOUT": "${TIMEOUT_MS:-30000}"
  }
}
```

<CardGrid>
  <Card title="å¿…é ˆå¤‰æ•°" icon="warning">
    ```json
    "${GITHUB_TOKEN}"
    ```
    æœªå®šç¾©ã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼
  </Card>
  <Card title="ã‚ªãƒ—ã‚·ãƒ§ãƒ³å¤‰æ•°" icon="check">
    ```json
    "${PORT:-3000}"
    ```
    æœªå®šç¾©ãªã‚‰3000ã‚’ä½¿ç”¨
  </Card>
</CardGrid>

## ğŸ·ï¸ ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ã®ç®¡ç†

ã‚µãƒ¼ãƒãƒ¼ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦ç®¡ç†ï¼š

```json
{
  "mcpServers": {
    "dev-tools": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "."],
      "tags": ["development", "local"]
    },
    "prod-api": {
      "url": "https://api.production.com/mcp",
      "tags": ["production", "remote"]
    },
    "shared-db": {
      "command": "mcp-postgres",
      "tags": ["development", "production", "database"]
    }
  }
}
```

èµ·å‹•æ™‚ã«ã‚¿ã‚°ã§çµã‚Šè¾¼ã¿ï¼š

```bash
# é–‹ç™ºç’°å¢ƒã®ã‚µãƒ¼ãƒãƒ¼ã®ã¿èµ·å‹•
hatago serve --tags development

# è¤‡æ•°ã‚¿ã‚°ï¼ˆORæ¡ä»¶ï¼‰
hatago serve --tags development,local
```

## ğŸ“š å®Ÿç”¨çš„ãªè¨­å®šä¾‹

### é–‹ç™ºç’°å¢ƒã®è¨­å®š

<details>
<summary>ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºç’°å¢ƒã®ä¾‹</summary>

```json
{
  "$schema": "https://raw.githubusercontent.com/himorishige/hatago-mcp-hub/main/schemas/config.schema.json",
  "version": 1,
  "logLevel": "debug",
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "."],
      "tags": ["essential", "dev"]
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      },
      "tags": ["vcs", "dev"]
    },
    "database": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "${DATABASE_URL:-postgresql://localhost/dev}"
      },
      "tags": ["database", "dev"]
    },
    "memory": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-memory"],
      "tags": ["cache", "dev"]
    }
  }
}
```

</details>

### ãƒãƒ¼ãƒ å…±æœ‰è¨­å®š

<details>
<summary>ãƒãƒ¼ãƒ é–‹ç™ºç”¨ã®è¨­å®š</summary>

```json
{
  "version": 1,
  "logLevel": "${LOG_LEVEL:-info}",
  "mcpServers": {
    "shared-docs": {
      "url": "${TEAM_DOCS_URL}",
      "type": "http",
      "headers": {
        "X-Team-ID": "${TEAM_ID}",
        "Authorization": "Bearer ${TEAM_TOKEN}"
      },
      "tags": ["team", "documentation"]
    },
    "project-fs": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "${PROJECT_ROOT:-.}"],
      "tags": ["team", "essential"]
    },
    "ci-tools": {
      "url": "${CI_MCP_ENDPOINT:-https://ci.example.com/mcp}",
      "type": "sse",
      "disabled": "${DISABLE_CI:-false}",
      "tags": ["team", "ci"]
    }
  }
}
```

</details>

## ğŸ”§ è¨­å®šã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

<Steps>
1. **æ˜ç¢ºãªã‚µãƒ¼ãƒãƒ¼ID**
   ```json
   âœ… "github-api", "local-filesystem", "prod-database"
   âŒ "server1", "srv", "test"
   ```

2. **ç’°å¢ƒå¤‰æ•°ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**

   ```json
   {
     "DATABASE_URL": "${DATABASE_URL:-postgresql://localhost/dev}"
   }
   ```

3. **ã‚¿ã‚°ã§æ•´ç†**

   ```json
   {
     "tags": ["ç’°å¢ƒ", "ç”¨é€”", "é‡è¦åº¦"]
   }
   ```

4. **ä¸è¦ãªã‚µãƒ¼ãƒãƒ¼ã¯ç„¡åŠ¹åŒ–**

   ```json
   {
     "disabled": true
   }
   ```

5. **ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã¯ç’°å¢ƒã”ã¨ã«**
   ```json
   {
     "logLevel": "${LOG_LEVEL:-info}"
   }
   ```
</Steps>

## âš™ï¸ è¨­å®šã®æ¤œè¨¼

### æ§‹æ–‡ãƒã‚§ãƒƒã‚¯

```bash
# JSONã®å¦¥å½“æ€§ç¢ºèª
cat hatago.config.json | jq .

# ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆVS Codeï¼‰
# $schemaãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§è‡ªå‹•çš„ã«æ¤œè¨¼
```

### è¨­å®šã®ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ï¼ˆå®Ÿéš›ã«ã¯èµ·å‹•ã—ãªã„ï¼‰
hatago serve --dry-run

# è©³ç´°ãƒ­ã‚°ã§ç¢ºèª
hatago serve --verbose
```

## ğŸ”„ ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’è‡ªå‹•çš„ã«åæ˜ ï¼š

```bash
hatago serve --watch
```

å¤‰æ›´ãŒæ¤œå‡ºã•ã‚Œã‚‹ã¨ï¼š

1. æ–°ã—ã„è¨­å®šã‚’èª­ã¿è¾¼ã¿
2. ã‚µãƒ¼ãƒãƒ¼ã‚’å†æ¥ç¶š
3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€šçŸ¥

<Aside type="tip">é–‹ç™ºä¸­ã¯`--watch`ãƒ•ãƒ©ã‚°ã‚’å¸¸ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</Aside>

## ğŸ“– é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

<CardGrid>
  <Card title="è¨­å®šã®ç¶™æ‰¿" icon="document" href="/ja/how-to/config-inheritance/">
    è¤‡æ•°ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã‚‹
  </Card>
  <Card title="ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼" icon="globe" href="/ja/how-to/remote-server-setup/">
    HTTPã‚„SSEã‚µãƒ¼ãƒãƒ¼ã¨ã®æ¥ç¶š
  </Card>
  <Card title="ã‚¿ã‚°ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°" icon="tag" href="/ja/how-to/tag-filtering/">
    ç’°å¢ƒã”ã¨ã®ã‚µãƒ¼ãƒãƒ¼ç®¡ç†
  </Card>
  <Card title="è¨­å®šãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹" icon="book" href="/ja/reference/config/">
    ã™ã¹ã¦ã®è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
  </Card>
</CardGrid>

---

<Aside type="note">
  å®Œå…¨ãªè¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ã€[è¨­å®šãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](/ja/reference/config/)ã‚’ã”è¦§ãã ã•ã„ã€‚
</Aside>
