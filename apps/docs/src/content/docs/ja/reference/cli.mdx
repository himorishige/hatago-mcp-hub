---
title: CLIリファレンス
description: hatago コマンドのオプションと使用例
manual: true
---

import { Code, Tabs, TabItem } from '@astrojs/starlight/components';
import { InstallCommand, InitCommands, ServeCommands, HotReloadAlternatives, EnvironmentSetup, DockerCommands, DebugCommands } from '../../../../components/examples/cli-commands.mdx';

# CLIリファレンス

Hatago MCP Hub は `hatago` コマンドとして提供されます。ここでは主なサブコマンドとオプションを説明します。

## インストール/実行

```bash
# npx で直接実行（推奨）
npx @himorishige/hatago-mcp-hub --version
```

<Code code={InstallCommand.npm} lang="bash" title="グローバルインストール (npm)" />

## `hatago init`

設定ファイル（`hatago.config.json`）を作成します。

<Code code={`${InitCommands.basic}           # 対話的に作成`} lang="bash" />
<Code code={`${InitCommands.stdio}           # STDIO モード前提のテンプレート`} lang="bash" />
<Code code={`${InitCommands.http}            # HTTP モード前提のテンプレート`} lang="bash" />
<Code code={`${InitCommands.custom}          # 出力先を指定`} lang="bash" />

- `-c, --config <path>`: 出力先のパス（既定: `./hatago.config.json`）
- `-f, --force`           : 既存ファイルを上書き
- `-m, --mode <stdio|http>`: 統合モードの事前選択

## `hatago serve`

Hatago Hub を起動します。

<Code code={`${ServeCommands.basic}                # 既定（STDIO）`} lang="bash" />
<Code code={`${ServeCommands.stdio}                # 明示的に STDIO`} lang="bash" />
<Code code={`${ServeCommands.http}                 # HTTP モード`} lang="bash" />
<Code code={`${ServeCommands.verbose}              # 詳細ログ`} lang="bash" />
<Code code={`${ServeCommands.tags}                 # タグでサーバーを選別`} lang="bash" />

- `--stdio` / `--http`     : 実行モードの選択（既定: STDIO）
- `-c, --config <path>`     : 設定ファイルのパス（STDIO では必須）
- `-h, --host <host>`       : HTTP のホスト（既定: `127.0.0.1`）
- `-p, --port <port>`       : HTTP のポート（既定: `3535`）
- `--tags <a,b,c>`          : タグで有効化するサーバーを絞り込み
- `--verbose` / `--quiet`   : ログ出力の詳細度

## 設定ファイルの自動リロード（v0.0.14以降）

v0.0.14からは、パフォーマンス向上のため組み込みの設定監視機能を削除しました。設定の自動リロードが必要な場合は、以下の外部ツールを使用してください：

### nodemonを使用
<Code code={HotReloadAlternatives.nodemon} lang="bash" />

### PM2を使用
<Code code={HotReloadAlternatives.pm2} lang="bash" />

### タグ付きの例
<Code code={HotReloadAlternatives.nodemonWithTags} lang="bash" />

<Tabs>
  <TabItem label="Claude Code / Gemini CLI">
  
  ```json title=".mcp.json"
  {
    "mcpServers": {
      "hatago": {
        "command": "npx",
        "args": ["@himorishige/hatago-mcp-hub", "serve", "--stdio", "--config", "./hatago.config.json"]
      }
    }
  }
  ```
  
  </TabItem>
  <TabItem label="Codex CLI">
  
  ```toml title="~/.codex/config.toml"
  [mcp_servers.hatago]
  command = "npx"
  args = ["-y", "@himorishige/hatago-mcp-hub", "serve", "--stdio", "--config", "./hatago.config.json"]
  ```
  
  </TabItem>
</Tabs>

## 環境変数のセットアップ

<Code code={EnvironmentSetup} lang="bash" />

## Docker 例

<Code code={DockerCommands} lang="bash" />

## デバッグ

<Code code={DebugCommands} lang="bash" />

---

関連ドキュメント:

- [設定リファレンス](/ja/reference/config/)
- [タグフィルタリング](/ja/how-to/tag-filtering/)
- [リモートサーバー接続](/ja/how-to/remote-servers/)
